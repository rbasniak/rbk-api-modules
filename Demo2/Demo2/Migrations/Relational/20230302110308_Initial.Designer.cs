// <auto-generated />
using System;
using Demo2.Domain.Events.MyImplementation.Database;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace Demo2.Migrations.Relational
{
    [DbContext(typeof(RelationalContext))]
    [Migration("20230302110308_Initial")]
    partial class Initial
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "7.0.3")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Demo2.Domain.Events.Domain.DomainEventDataObject", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AggregateId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Data")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Type")
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Version")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("Events");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Attachment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Filename")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Path")
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("Size")
                        .HasColumnType("bigint");

                    b.Property<Guid>("TypeId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ChangeRequestId");

                    b.HasIndex("TypeId");

                    b.ToTable("Attachments", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.AttachmentType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Extension")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("AttachmentTypes", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequest", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("CheckedBy")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Comments")
                        .HasColumnType("nvarchar(max)");

                    b.Property<double>("Complexity")
                        .HasColumnType("float");

                    b.Property<string>("CreatedBy")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime>("CreationDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("CurrentOwner")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("DesiredDate")
                        .HasColumnType("datetime2");

                    b.Property<long>("InternalNumber")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<long>("InternalNumber"));

                    b.Property<string>("Justification")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("PlatformId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PriorityId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("RequestedBy")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Resource")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("SourceId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("SourceNumber")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("StateId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("StatusSgm")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("TypeId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("PlatformId");

                    b.HasIndex("PriorityId");

                    b.HasIndex("SourceId");

                    b.HasIndex("StateId");

                    b.HasIndex("TypeId");

                    b.ToTable("ChangeRequests", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestPriority", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Color")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.ToTable("ChangeRequestPriorities", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestSource", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ChageRequestSources", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestToDiscipline", b =>
                {
                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("DisciplineId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("ChangeRequestId", "DisciplineId");

                    b.HasIndex("DisciplineId");

                    b.ToTable("ChangeRequestToDisciplines", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestType", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("ChangeRequestTypes", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Discipline", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Disciplines", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Document", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("CategoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("SindotecUrl")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("CategoryId");

                    b.HasIndex("ChangeRequestId");

                    b.ToTable("Documents", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.DocumentCategory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("DocumentCategories", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.EvidenceAttachment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("AdditionDate")
                        .HasColumnType("datetime2");

                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Commentary")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Filename")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Path")
                        .HasColumnType("nvarchar(max)");

                    b.Property<long>("Size")
                        .HasColumnType("bigint");

                    b.Property<Guid>("TypeId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ChangeRequestId");

                    b.HasIndex("TypeId");

                    b.ToTable("EvidenceAttachments", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Fic", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("CategoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("CategoryId");

                    b.HasIndex("ChangeRequestId");

                    b.ToTable("Fic");
                });

            modelBuilder.Entity("GCAB.Models.Domain.FicCategory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("FicCategories", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Platform", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("UnId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("UnId");

                    b.ToTable("Platforms", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Un", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Domain")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Repository")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("Uns", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.States.State", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.ToTable("States", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.States.StateChangeEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ChangeRequestId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("Date")
                        .HasColumnType("datetime2");

                    b.Property<string>("NewOwner")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Notes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("StatusHistory")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("StatusId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("StatusName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("User")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("ChangeRequestId");

                    b.ToTable("StateChangeEvent");
                });

            modelBuilder.Entity("rbkApiModules.Commons.Relational.SeedHistory", b =>
                {
                    b.Property<string>("Id")
                        .HasColumnType("nvarchar(450)");

                    b.Property<DateTime>("DateApplied")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.ToTable("__SeedHistory", (string)null);
                });

            modelBuilder.Entity("GCAB.Models.Domain.Attachment", b =>
                {
                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("Attachments")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.AttachmentType", "Type")
                        .WithMany("Attachments")
                        .HasForeignKey("TypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("ChangeRequest");

                    b.Navigation("Type");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequest", b =>
                {
                    b.HasOne("GCAB.Models.Domain.Platform", "Platform")
                        .WithMany("ChangeRequests")
                        .HasForeignKey("PlatformId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.ChangeRequestPriority", "Priority")
                        .WithMany("ChangeRequests")
                        .HasForeignKey("PriorityId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.ChangeRequestSource", "Source")
                        .WithMany("ChangeRequests")
                        .HasForeignKey("SourceId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("GCAB.Models.States.State", "State")
                        .WithMany()
                        .HasForeignKey("StateId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.ChangeRequestType", "Type")
                        .WithMany("ChangeRequests")
                        .HasForeignKey("TypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("GCAB.Models.Domain.GutMatrix", "Prioritization", b1 =>
                        {
                            b1.Property<Guid>("ChangeRequestId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<int>("Gravity")
                                .HasColumnType("int");

                            b1.Property<int>("Tendency")
                                .HasColumnType("int");

                            b1.Property<int>("Urgency")
                                .HasColumnType("int");

                            b1.HasKey("ChangeRequestId");

                            b1.ToTable("ChangeRequests");

                            b1.WithOwner()
                                .HasForeignKey("ChangeRequestId");
                        });

                    b.Navigation("Platform");

                    b.Navigation("Prioritization");

                    b.Navigation("Priority");

                    b.Navigation("Source");

                    b.Navigation("State");

                    b.Navigation("Type");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestToDiscipline", b =>
                {
                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("Disciplines")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.Discipline", "Discipline")
                        .WithMany("ChangeRequests")
                        .HasForeignKey("DisciplineId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("ChangeRequest");

                    b.Navigation("Discipline");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Document", b =>
                {
                    b.HasOne("GCAB.Models.Domain.DocumentCategory", "Category")
                        .WithMany("Documents")
                        .HasForeignKey("CategoryId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("Documents")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Category");

                    b.Navigation("ChangeRequest");
                });

            modelBuilder.Entity("GCAB.Models.Domain.EvidenceAttachment", b =>
                {
                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("EvidenceAttachments")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.AttachmentType", "Type")
                        .WithMany("EvidenceAttachments")
                        .HasForeignKey("TypeId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.Navigation("ChangeRequest");

                    b.Navigation("Type");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Fic", b =>
                {
                    b.HasOne("GCAB.Models.Domain.FicCategory", "Category")
                        .WithMany("Fics")
                        .HasForeignKey("CategoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("Fics")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Category");

                    b.Navigation("ChangeRequest");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Platform", b =>
                {
                    b.HasOne("GCAB.Models.Domain.Un", "Un")
                        .WithMany("Platforms")
                        .HasForeignKey("UnId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Un");
                });

            modelBuilder.Entity("GCAB.Models.States.StateChangeEvent", b =>
                {
                    b.HasOne("GCAB.Models.Domain.ChangeRequest", "ChangeRequest")
                        .WithMany("Events")
                        .HasForeignKey("ChangeRequestId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("ChangeRequest");
                });

            modelBuilder.Entity("GCAB.Models.Domain.AttachmentType", b =>
                {
                    b.Navigation("Attachments");

                    b.Navigation("EvidenceAttachments");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequest", b =>
                {
                    b.Navigation("Attachments");

                    b.Navigation("Disciplines");

                    b.Navigation("Documents");

                    b.Navigation("Events");

                    b.Navigation("EvidenceAttachments");

                    b.Navigation("Fics");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestPriority", b =>
                {
                    b.Navigation("ChangeRequests");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestSource", b =>
                {
                    b.Navigation("ChangeRequests");
                });

            modelBuilder.Entity("GCAB.Models.Domain.ChangeRequestType", b =>
                {
                    b.Navigation("ChangeRequests");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Discipline", b =>
                {
                    b.Navigation("ChangeRequests");
                });

            modelBuilder.Entity("GCAB.Models.Domain.DocumentCategory", b =>
                {
                    b.Navigation("Documents");
                });

            modelBuilder.Entity("GCAB.Models.Domain.FicCategory", b =>
                {
                    b.Navigation("Fics");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Platform", b =>
                {
                    b.Navigation("ChangeRequests");
                });

            modelBuilder.Entity("GCAB.Models.Domain.Un", b =>
                {
                    b.Navigation("Platforms");
                });
#pragma warning restore 612, 618
        }
    }
}
