(self.webpackChunkrbk_shared_ui=self.webpackChunkrbk_shared_ui||[]).push([[864],{6864:(a,t,e)=>{"use strict";e.r(t),e.d(t,{DashboardModule:()=>b});var o,r=e(2561),i=e(1116),n=e(1039),s=e(6726),d=e(8203),p=e(8751),g=e(4762),c=e(3623),l=e(2995);!function(a){class t{constructor(a,t,e){this.dateFrom=a,this.dateTo=t,this.groupingType=e}}t.type="[Logs] Filter Dashboard",a.Filter=t}(o||(o={}));var u=e(7676),Z=e(6599),h=e(5366),m=e(6080);let L=(()=>{let a=class{constructor(a){this.logs=a}filter$(a,t){return this.logs.getDashboardData(t.dateFrom,t.dateTo,t.groupingType).pipe((0,Z.b)(t=>{a.patchState({data:t})}))}};return a.\u0275fac=function(t){return new(t||a)(h.LFG(m.P))},a.\u0275prov=h.Yz7({token:a,factory:a.\u0275fac}),(0,g.gn)([(0,l.aU)(o.Filter)],a.prototype,"filter$",null),a=(0,g.gn)([(0,l.ZM)({name:"logsDashboard",defaults:{data:null}})],a),a})(),f=(()=>{class a{static data(a){return(0,u.Z)(a.data)}}return(0,g.gn)([(0,l.Qf)([L])],a,"data",null),a})();function y(a,t){if(1&a&&(h.ynx(0),h.TgZ(1,"div",7),h.TgZ(2,"p-panel",8),h.TgZ(3,"div",9),h._UZ(4,"smz-ui-chart",10),h.qZA(),h._UZ(5,"hr"),h.TgZ(6,"div",11),h.TgZ(7,"div",12),h._UZ(8,"smz-ui-chart",10),h.qZA(),h.TgZ(9,"div",13),h._UZ(10,"smz-ui-chart",10),h.qZA(),h.qZA(),h._UZ(11,"hr"),h.TgZ(12,"div",11),h.TgZ(13,"div",12),h._UZ(14,"smz-ui-chart",10),h.qZA(),h.TgZ(15,"div",13),h._UZ(16,"smz-ui-chart",10),h.qZA(),h.qZA(),h._UZ(17,"hr"),h.TgZ(18,"div",11),h.TgZ(19,"div",12),h._UZ(20,"smz-ui-chart",10),h.qZA(),h.TgZ(21,"div",13),h._UZ(22,"smz-ui-chart",10),h.qZA(),h.qZA(),h._UZ(23,"hr"),h.TgZ(24,"div",11),h.TgZ(25,"div",12),h._UZ(26,"smz-ui-chart",10),h.qZA(),h.TgZ(27,"div",13),h._UZ(28,"smz-ui-chart",10),h.qZA(),h.qZA(),h._UZ(29,"hr"),h.TgZ(30,"div",11),h.TgZ(31,"div",12),h._UZ(32,"smz-ui-chart",10),h.qZA(),h.TgZ(33,"div",13),h._UZ(34,"smz-ui-chart",10),h.qZA(),h.qZA(),h._UZ(35,"hr"),h.TgZ(36,"div",11),h.TgZ(37,"div",12),h._UZ(38,"smz-ui-chart",10),h.qZA(),h.TgZ(39,"div",13),h._UZ(40,"smz-ui-chart",10),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.BQk()),2&a){const a=t.ngIf;h.xp6(2),h.Q6J("toggleable",!0),h.xp6(2),h.Q6J("type",a.totalLogs.type)("options",a.totalLogs.config)("data",a.totalLogs.data),h.xp6(4),h.Q6J("type",a.sourceLogsLinear.type)("options",a.sourceLogsLinear.config)("data",a.sourceLogsLinear.data),h.xp6(2),h.Q6J("type",a.sourceLogsRadial.type)("options",a.sourceLogsRadial.config)("data",a.sourceLogsRadial.data),h.xp6(4),h.Q6J("type",a.enviromentLogsLinear.type)("options",a.enviromentLogsLinear.config)("data",a.enviromentLogsLinear.data),h.xp6(2),h.Q6J("type",a.enviromentLogsRadial.type)("options",a.enviromentLogsRadial.config)("data",a.enviromentLogsRadial.data),h.xp6(4),h.Q6J("type",a.areaLogsLinear.type)("options",a.areaLogsLinear.config)("data",a.areaLogsLinear.data),h.xp6(2),h.Q6J("type",a.areaLogsRadial.type)("options",a.areaLogsRadial.config)("data",a.areaLogsRadial.data),h.xp6(4),h.Q6J("type",a.layerLogsLinear.type)("options",a.layerLogsLinear.config)("data",a.layerLogsLinear.data),h.xp6(2),h.Q6J("type",a.layerLogsRadial.type)("options",a.layerLogsRadial.config)("data",a.layerLogsRadial.data),h.xp6(4),h.Q6J("type",a.userLogsLinear.type)("options",a.userLogsLinear.config)("data",a.userLogsLinear.data),h.xp6(2),h.Q6J("type",a.userLogsRadial.type)("options",a.userLogsRadial.config)("data",a.userLogsRadial.data),h.xp6(4),h.Q6J("type",a.machineLogsLinear.type)("options",a.machineLogsLinear.config)("data",a.machineLogsLinear.data),h.xp6(2),h.Q6J("type",a.machineLogsRadial.type)("options",a.machineLogsRadial.config)("data",a.machineLogsRadial.data)}}const v=e(9609);let T=(()=>{let a=class{constructor(a){this.store=a,this.formConfig=null}ngOnInit(){const a={propertyName:"dateFrom",type:n.rc7.CALENDAR,name:"From",defaultValue:v(new Date).subtract(30,"days").toDate(),touchUI:!1,focusTrap:!0,keepInvalid:!0,showButtonBar:!1,showOnFocus:!1,showIcon:!0,template:{extraLarge:{row:"col-4"}}},t={propertyName:"dateTo",type:n.rc7.CALENDAR,name:"To",defaultValue:new Date,touchUI:!1,focusTrap:!0,keepInvalid:!0,showButtonBar:!1,showOnFocus:!1,showIcon:!0,template:{extraLarge:{row:"col-4"}}};this.formConfig={behaviors:{flattenResponse:!0,avoidFocusOnLoad:!0},groups:[{name:null,showName:!0,children:[a,t,{propertyName:"grouping",type:n.rc7.DROPDOWN,name:"Grouping",validatorsPreset:{isRequired:!0},defaultValue:1,showFilter:!1,options:[{id:1,name:"Daily"},{id:3,name:"Weekly"},{id:4,name:"Monthly"},{id:5,name:"Yearly"}],template:{extraLarge:{row:"col-4"}}}],template:{extraLarge:{row:"col-12"}}}]}}filter(a){const t=a.getData().data;this.store.dispatch(new o.Filter(t.dateFrom,t.dateTo,t.groupingId))}};return a.\u0275fac=function(t){return new(t||a)(h.Y36(l.yh))},a.\u0275cmp=h.Xpm({type:a,selectors:[["app-dashboard-page"]],decls:8,vars:4,consts:[["header","SETTINGS"],[1,"p-d-flex","p-jc-between","p-ai-center"],[3,"config"],["filterForm",""],[1,"mt-6"],["pButton","","type","button","label","LOAD","icon","fas fa-filter","iconPos","left",3,"click"],[4,"ngIf"],[1,"p-mt-4"],["header","RESULTS",3,"toggleable"],[1,"grid","grid-cols-1","gap-4"],["height","350px",3,"type","options","data"],[1,"grid","grid-cols-4","gap-4"],[1,"col-span-3"],[1,"col-span-1"]],template:function(a,t){if(1&a){const a=h.EpF();h.TgZ(0,"p-panel",0),h.TgZ(1,"div",1),h._UZ(2,"smz-form-group",2,3),h.TgZ(4,"div",4),h.TgZ(5,"button",5),h.NdJ("click",function(){h.CHM(a);const e=h.MAs(3);return t.filter(e)}),h.qZA(),h.qZA(),h.qZA(),h.qZA(),h.YNc(6,y,41,40,"ng-container",6),h.ALo(7,"async")}2&a&&(h.xp6(2),h.Q6J("config",t.formConfig),h.xp6(4),h.Q6J("ngIf",h.lcZ(7,2,t.data$)))},directives:[d.s,n.HK$,s.Hq,i.O5,n.Tmf],pipes:[i.Ov],styles:["app-dashboard-page .my-toolbar{padding-top:0!important;padding-bottom:0!important}"],encapsulation:2}),(0,g.gn)([(0,l.Ph)(f.data)],a.prototype,"data$",void 0),a=(0,g.gn)([(0,c.c)()],a),a})();var A=e(1945),q=e(3464);const R=[{path:"",children:[{path:q.f1+"/"+q.tu,component:T,data:{layout:{mode:"menu-only",contentPadding:"2em"},title:"Dashboard",appArea:"dashboard",clearReusableRoutes:!0}}]}];let b=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=h.oAB({type:a}),a.\u0275inj=h.cJS({providers:[],imports:[[i.ez,r.Bz.forChild(R),s.hJ,n.Z4r,d.Q,n.P$2,A.V,n.Yel,p.d]]}),a})()}}]);